{% extends '::base.html.twig' %}

{% block content %}
<h1>Cliquez sur le cours de votre choix pour vous inscrire</h1>
{# Pour chaque coours #}
{% for cours in cours %}
  <div class="row cours">
      <div class="col-sm-7" id="listeCours" >
              <a href="#" class="btn btn-xs btn-danger">
                  <b>{{cours.typeDanse|capitalize}}  {{cours.niveau}}</b><br />
                  {{cours.dateCours|date('d-m-Y')}} - {{cours.heureDebut|date('H:i')}}-{{cours.heureFin|date('H:i')}} Salle {{cours.salle}}
              </a>     
      </div>
      <div class="col-sm-5">
          <p>
              {# Bouton liste des inscrits #}  
              <!-- Trigger the modal with a button -->
              <button type="button" class="btn btn-xs btn-warning" data-toggle="modal" data-target="#listeInscrits">Liste des inscrits</button>
              <!-- Modal -->
              <div id="listeInscrits" class="modal fade" role="dialog">
                <div class="modal-dialog">

                  <!-- Modal content-->
                  <div class="modal-content">
                    <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal">&times;</button>
                      <h4 class="modal-title">Liste des inscrits</h4>
                    </div>
                    <div class="modal-body">
                     {% for danseur in cours.danseurs %}
                     <ul>
                        <li>
                           {{danseur}}
                        </li>
                     </ul>         
                     {% endfor %}
                      </p>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-default" data-dismiss="modal">Femer</button>
                    </div>
                  </div>
                </div>
              </div>
              
              {# Bouton d'edition #}
              <a href="{{path('app_cours_edit',{ 'id': cours.id })}}" class="btn btn-xs btn-warning">
                  <span class="glyphicon glyphicon-pencil"></span>
              </a>
              {# Bouton de suppression #}
              <!-- Trigger the modal with a button -->
              <button type="button" class="btn btn-xs btn-danger" data-toggle="modal" data-target="#deleteCours"><span class="glyphicon glyphicon-trash"></span></button>
              <!-- Modal -->
              <div id="deleteCours" class="modal fade" role="dialog">
                <div class="modal-dialog">

                  <!-- Modal content-->
                  <div class="modal-content">
                    <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal">&times;</button>
                      <h4 class="modal-title">Cours à suprimer</h4>
                    </div>
                    <div class="modal-body">
                      <p>	<b>{{cours.typeDanse|capitalize}}  {{cours.niveau}}</b><br />
                              {{cours.dateCours|date('d-m-Y')}} - {{cours.heureDebut|date('H:i')}}-{{cours.heureFin|date('H:i')}} Salle {{cours.salle}}<br />
                              Référent : {{cours.referent}} - Animateur(s) : {% for animateur in cours.animateurs %}
                              {{animateur}} - {% endfor %}
                      </p>
                    </div>
                    <div class="modal-footer">
                      <a href="{{path('app_cours_delete',{ 'id': cours.id })}}" class="btn btn-default">Confirmer</a>
                      <button type="button" class="btn btn-default" data-dismiss="modal">Annuler</button>
                    </div>
                  </div>
                </div>
              </div>
            </p>
          </div>
      </div>
{% endfor %}
  <div class="row">
      <div class="col-sm-12">
      {# Bouton d'ajout #}
          <a href="{{path('app_cours_add')}}" class="btn btn-primary btn-block">Ajouter un cours</a>
      </div>
  </div>  
         
{% endblock %}